# pre-commit 钩子：在 `git commit` 时运行
pre-commit:
  commands:
    check-branch:
      run: .lefthook/scripts/check-branch.sh

    eslint:
      glob: "*.{js,ts,jsx,tsx}"
      run: pnpm exec eslint {staged_files} --cache --fix
      stage_fixed: true

# commit-msg 钩子：在 commit message 编辑器关闭后运行
commit-msg:
  commands:
    # 检查 commit message 是否符合 Conventional Commits 规范
    commitlint:
      run: pnpm exec commitlint --edit $1

# post-merge 钩子：在 `git merge` 或 `git pull` 成功后运行
post-merge:
  commands:
    # 自动安装依赖
    install:
      run: pnpm install
